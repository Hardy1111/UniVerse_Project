{% extends "base.html" %}

{% block title %}Company Dashboard - UniVerse{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1 class="dashboard-title">Company Dashboard</h1>
    <p class="dashboard-subtitle">Manage your internship postings and applications</p>
</div>

<div class="grid grid-2">
    <!-- Post New Internship -->
    <div class="card">
        <h3 style="margin-bottom: 1.5rem; color: #333;">
            <i class="fas fa-plus-circle"></i> Post a New Internship
        </h3>
        
        <form method="POST">
            <div class="form-group">
                <label for="title">
                    <i class="fas fa-briefcase"></i> Job Title
                </label>
                <input type="text" name="title" id="title" class="form-control" 
                       placeholder="e.g., Software Development Intern" required>
            </div>
            
            <div class="form-group">
                <label for="location">
                    <i class="fas fa-map-marker-alt"></i> Location
                </label>
                <input type="text" name="location" id="location" class="form-control" 
                       placeholder="e.g., New York, NY" required>
            </div>
            
            <div class="form-group">
                <label for="description">
                    <i class="fas fa-align-left"></i> Description
                </label>
                <textarea name="description" id="description" class="form-control" rows="4" 
                          placeholder="Describe the internship role, requirements, and benefits..." required></textarea>
            </div>
            
            <div class="form-group">
                <button type="submit" class="btn btn-success" style="width: 100%;">
                    <i class="fas fa-paper-plane"></i> Post Internship
                </button>
            </div>
        </form>
    </div>
    
    <!-- Your Internships -->
    <div class="card">
        <h3 style="margin-bottom: 1.5rem; color: #333;">
            <i class="fas fa-list"></i> Your Internships
        </h3>
        
        {% if internships %}
            {% for internship in internships %}
            <div class="internship-card">
                <div class="internship-title">{{ internship.title }}</div>
                
                <div class="internship-meta">
                    <div class="meta-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>{{ internship.location }}</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-calendar"></i>
                        <span>{{ internship.created_at.strftime('%B %d, %Y') }}</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-users"></i>
                        <span>{{ internship.applications|length }} application{{ 's' if internship.applications|length != 1 else '' }}</span>
                    </div>
                </div>
                
                <div class="internship-description">
                    {{ internship.description[:150] }}{% if internship.description|length > 150 %}...{% endif %}
                </div>
                
                <div class="internship-actions">
                    <a href="{{ url_for('edit_internship', id=internship.id) }}" class="btn btn-outline">
                        <i class="fas fa-edit"></i> Edit
                    </a>
                    <a href="{{ url_for('delete_internship', id=internship.id) }}" 
                       class="btn btn-danger" 
                       onclick="return confirm('Are you sure you want to delete this internship?')">
                        <i class="fas fa-trash"></i> Delete
                    </a>
                    <a href="{{ url_for('view_applications', id=internship.id) }}" class="btn btn-primary">
                        <i class="fas fa-eye"></i> View Applications
                    </a>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="text-center" style="padding: 2rem 0;">
                <i class="fas fa-plus-circle" style="font-size: 3rem; color: #ccc; margin-bottom: 1rem;"></i>
                <h4 style="color: #666; margin-bottom: 1rem;">No internships posted yet</h4>
                <p style="color: #999;">Create your first internship posting to get started!</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}