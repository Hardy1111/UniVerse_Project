{% extends "base.html" %}

{% block title %}Student Dashboard - UniVerse{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1 class="dashboard-title">Student Dashboard</h1>
    <p class="dashboard-subtitle">Browse and apply for internship opportunities</p>
</div>

<!-- Search Section -->
<div class="search-container">
    <h3 style="margin-bottom: 1rem; color: #333;">
        <i class="fas fa-search"></i> Search Internships
    </h3>
    <form method="GET" action="{{ url_for('search_internships') }}" class="search-form">
        <input type="text" name="keyword" class="search-input" 
               placeholder="Search by keyword, location, or company..." 
               value="{{ search_keyword or '' }}">
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-search"></i> Search
        </button>
    </form>
</div>

<!-- Internships Section -->
<div class="card">
    <h3 style="margin-bottom: 1.5rem; color: #333;">
        <i class="fas fa-briefcase"></i> Available Internships
    </h3>
    
    {% if internships %}
        <div class="grid grid-2">
            {% for internship in internships %}
            <div class="internship-card">
                <div class="internship-title">{{ internship.title }}</div>
                <div class="internship-company">{{ internship.company.name }}</div>
                
                <div class="internship-meta">
                    <div class="meta-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>{{ internship.location }}</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-calendar"></i>
                        <span>{{ internship.created_at.strftime('%B %d, %Y') }}</span>
                    </div>
                </div>
                
                <div class="internship-description">
                    {{ internship.description[:200] }}{% if internship.description|length > 200 %}...{% endif %}
                </div>
                
                <div class="internship-actions">
                    <a href="{{ url_for('apply_internship_form', id=internship.id) }}" class="btn btn-success">
                        <i class="fas fa-paper-plane"></i> Apply Now
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center" style="padding: 3rem 0;">
            <i class="fas fa-search" style="font-size: 4rem; color: #ccc; margin-bottom: 1rem;"></i>
            <h4 style="color: #666; margin-bottom: 1rem;">No internships found</h4>
            <p style="color: #999;">Check back later for new opportunities!</p>
        </div>
    {% endif %}
</div>

<!-- Quick Actions -->
<div class="text-center mt-4">
    <a href="{{ url_for('my_applications') }}" class="btn btn-outline">
        <i class="fas fa-list"></i> View My Applications
    </a>
</div>

{% endblock %}